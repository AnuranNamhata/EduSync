{"ast":null,"code":"var _jsxFileName = \"D:\\\\Final year project\\\\project_repo\\\\EduSync\\\\client\\\\esm-client\\\\src\\\\navbar\\\\LeftMenu.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Menu, Grid } from \"antd\";\nimport { NavLink } from \"react-router-dom\";\nimport { logoutUser } from \"../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport { Roles } from \"../Roles/roles\";\nimport { useLocation } from 'react-router-dom'; // const SubMenu = Menu.SubMenu;\n// const MenuItemGroup = Menu.ItemGroup;\n\nconst {\n  useBreakpoint\n} = Grid;\n\nconst LeftMenu = props => {\n  const [isAuthenticated, setisAuthenticated] = useState(false);\n  const location = useLocation(); // const role = props.role;\n\n  const role = props.userInfo.role; //console.log(props)\n\n  useEffect(() => {\n    setisAuthenticated(props.isAuthenticated);\n  }, [props]);\n\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userProfile\");\n    localStorage.removeItem(\"profileID\");\n    props.signOut();\n  };\n\n  const handleProfile = () => {};\n\n  const {\n    md\n  } = useBreakpoint();\n  const homeRoute = isAuthenticated ? \"/\" : \"signin\";\n  const testRoute = isAuthenticated ? \"/attempt-test\" : \"signup\";\n  const resultRoute = isAuthenticated ? \"/result\" : \"\";\n  const signOutRoute = isAuthenticated ? \"/signin\" : \"\";\n  const profileRoute = isAuthenticated ? \"/profile\" : \"\";\n  const createTestRoute = isAuthenticated ? \"/create-test\" : \"\";\n  const assignedTestRoute = isAuthenticated ? \"/assigned-test\" : \"\"; //console.log(role)\n\n  const style = {\n    display: location.pathname === \"/start-test\" ? \"none\" : \"block\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu\",\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    mode: md ? \"horizontal\" : \"inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: homeRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? \"Home\" : \"Sign In\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"02\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: Roles.teacher === role ? createTestRoute : testRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? Roles.teacher === role ? \"Create Test\" : \"Attempt Test\" : \"SignUp\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"03\",\n    className: !isAuthenticated ? \"display-none\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: Roles.teacher === role ? assignedTestRoute : resultRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? Roles.teacher === role ? \"Assigned Test\" : \"Result\" : \"\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"05\",\n    className: !isAuthenticated ? \"display-none\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: profileRoute,\n    onClick: handleProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? \"Profile\" : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: signOutRoute,\n    onClick: signOut,\n    className: !isAuthenticated ? \"display-none signout\" : \"signout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, isAuthenticated ? \"Sign Out\" : \"\")));\n};\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n    userInfo: state.auth.user\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signOut: () => dispatch(logoutUser())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftMenu);","map":{"version":3,"sources":["D:/Final year project/project_repo/EduSync/client/esm-client/src/navbar/LeftMenu.js"],"names":["React","useState","useEffect","Menu","Grid","NavLink","logoutUser","connect","Roles","useLocation","useBreakpoint","LeftMenu","props","isAuthenticated","setisAuthenticated","location","role","userInfo","signOut","localStorage","removeItem","handleProfile","md","homeRoute","testRoute","resultRoute","signOutRoute","profileRoute","createTestRoute","assignedTestRoute","style","display","pathname","teacher","mapStateToProps","state","auth","user","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Menu, Grid } from \"antd\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { logoutUser } from \"../actions/authActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Roles } from \"../Roles/roles\";\r\nimport { useLocation } from 'react-router-dom'\r\n// const SubMenu = Menu.SubMenu;\r\n// const MenuItemGroup = Menu.ItemGroup;\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nconst LeftMenu = (props) => {\r\n  const [isAuthenticated, setisAuthenticated] = useState(false);\r\n  const location = useLocation();\r\n\r\n  \r\n  // const role = props.role;\r\n  const role = props.userInfo.role;\r\n  //console.log(props)\r\n\r\n  useEffect(() => {\r\n    setisAuthenticated(props.isAuthenticated);\r\n  }, [props]);\r\n\r\n  const signOut = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userProfile\");\r\n    localStorage.removeItem(\"profileID\");\r\n    props.signOut();\r\n  };\r\n\r\n  const handleProfile = () => {};\r\n\r\n  const { md } = useBreakpoint();\r\n  const homeRoute = isAuthenticated ? \"/\" : \"signin\";\r\n  const testRoute = isAuthenticated ? \"/attempt-test\" : \"signup\";\r\n  const resultRoute = isAuthenticated ? \"/result\" : \"\";\r\n  const signOutRoute = isAuthenticated ? \"/signin\" : \"\";\r\n  const profileRoute = isAuthenticated ? \"/profile\" : \"\";\r\n  const createTestRoute = isAuthenticated ? \"/create-test\" : \"\";\r\n  const assignedTestRoute = isAuthenticated ? \"/assigned-test\" : \"\";\r\n  //console.log(role)\r\n  const style ={\r\n    display: (location.pathname===\"/start-test\")?(\"none\"):(\"block\")\r\n  }\r\n\r\n  return (\r\n    <div className=\"menu\" style={style}>\r\n      <Menu mode={md ? \"horizontal\" : \"inline\"}>\r\n        <Menu.Item key=\"01\">\r\n          <NavLink to={homeRoute}>\r\n            {isAuthenticated ? \"Home\" : \"Sign In\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"02\">\r\n          <NavLink to={Roles.teacher === role ? createTestRoute : testRoute}>\r\n            {isAuthenticated\r\n              ? Roles.teacher === role\r\n                ? \"Create Test\"\r\n                : \"Attempt Test\"\r\n              : \"SignUp\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"03\" className={!isAuthenticated ? \"display-none\" : \"\"}>\r\n          <NavLink\r\n            to={Roles.teacher === role ? assignedTestRoute : resultRoute}\r\n          >\r\n            {isAuthenticated\r\n              ? Roles.teacher === role\r\n                ? \"Assigned Test\"\r\n                : \"Result\"\r\n              : \"\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"05\" className={!isAuthenticated ? \"display-none\" : \"\"}>\r\n          <NavLink to={profileRoute} onClick={handleProfile}>\r\n            {isAuthenticated ? \"Profile\" : \"\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n      </Menu>\r\n      <div className=\"right-side\">\r\n        <NavLink\r\n          to={signOutRoute}\r\n          onClick={signOut}\r\n          className={!isAuthenticated ? \"display-none signout\" : \"signout\"}\r\n        >\r\n          {isAuthenticated ? \"Sign Out\" : \"\"}\r\n        </NavLink>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    userInfo: state.auth.user,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signOut: () => dispatch(logoutUser()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftMenu);\r\n"]},"metadata":{},"sourceType":"module"}