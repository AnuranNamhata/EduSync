{"ast":null,"code":"import { LOGIN_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, SIGN_UP_REQUEST, SIGN_UP_SUCCESS, SIGN_UP_FAILURE, LOGOUT_FAILURE, LOGOUT_REQUEST, LOGOUT_SUCCESS, VERIFY_REQUEST, VERIFY_SUCCESS, SEND_PASS_RESET_SUCCESS, SEND_PASS_RESET, SEND_PASS_RESET_ERROR, USER_ACCOUNT_CREATED } from \"../actions/authActions\"; // import storageListner from \"../storageListener/localStorageListener\";\n\nconst initialState = {\n  isLoggingIn: false,\n  isSigningUp: false,\n  isLoading: false,\n  isLoggingOut: false,\n  isVerifying: false,\n  loginError: false,\n  signupError: false,\n  logoutError: false,\n  accountCreated: false,\n  isAuthenticated: localStorage.getItem(\"token\") ? true : false,\n  sendPassResetSuccess: false,\n  sendPassResetError: false,\n  profileID: localStorage.getItem(\"profileID\"),\n  user: JSON.parse(localStorage.getItem(\"userProfile\")) ? JSON.parse(localStorage.getItem(\"userProfile\")) : {}\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      console.log(\"login request fired\");\n      return { ...state,\n        isLoggingIn: true,\n        isLoading: true,\n        loginError: false\n      };\n\n    case LOGIN_SUCCESS:\n      console.log(\"login success fired\", action.obj);\n      return { ...state,\n        isLoggingIn: false,\n        isLoading: false,\n        isAuthenticated: true,\n        user: action.user,\n        profileID: action.profileID\n      };\n\n    case LOGIN_FAILURE:\n      console.log(\"login failure fired\");\n      return { ...state,\n        isLoggingIn: false,\n        isAuthenticated: false,\n        isLoading: false,\n        loginError: true\n      };\n\n    case SIGN_UP_REQUEST:\n      return { ...state,\n        isSigningUp: true,\n        isLoading: true,\n        signupError: false\n      };\n\n    case SIGN_UP_SUCCESS:\n      return { ...state,\n        isSigningUp: false,\n        isLoading: false,\n        signupError: false,\n        accountCreated: true // isAuthenticated: true,\n        // user: action.user,\n\n      };\n\n    case SIGN_UP_FAILURE:\n      return { ...state,\n        isSigningUp: false,\n        isLoading: false,\n        signupError: action.errMess\n      };\n\n    case USER_ACCOUNT_CREATED:\n      return { ...state,\n        accountCreated: false\n      };\n\n    case SEND_PASS_RESET:\n      return { ...state,\n        isLoading: true,\n        sendPassResetSuccess: false,\n        sendPassResetError: false\n      };\n\n    case SEND_PASS_RESET_SUCCESS:\n      return { ...state,\n        isLoading: false,\n        sendPassResetSuccess: true,\n        sendPassResetError: false\n      };\n\n    case SEND_PASS_RESET_ERROR:\n      return { ...state,\n        isLoading: false,\n        sendPassResetSuccess: false,\n        sendPassResetError: action.errMess\n      };\n\n    case LOGOUT_REQUEST:\n      return { ...state,\n        isLoggingOut: true,\n        logoutError: false\n      };\n\n    case LOGOUT_SUCCESS:\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userProfile\");\n      localStorage.removeItem(\"profileID\");\n      return { ...state,\n        isLoggingOut: false,\n        isAuthenticated: false,\n        user: {}\n      };\n\n    case LOGOUT_FAILURE:\n      return { ...state,\n        isLoggingOut: false,\n        logoutError: true\n      };\n\n    case VERIFY_REQUEST:\n      return { ...state,\n        isVerifying: true,\n        verifyingError: false\n      };\n\n    case VERIFY_SUCCESS:\n      return { ...state,\n        isVerifying: false\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["D:/Final year project/project_repo/EduSync/client/esm-client/src/reducers/authReducer.js"],"names":["LOGIN_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","LOGOUT_FAILURE","LOGOUT_REQUEST","LOGOUT_SUCCESS","VERIFY_REQUEST","VERIFY_SUCCESS","SEND_PASS_RESET_SUCCESS","SEND_PASS_RESET","SEND_PASS_RESET_ERROR","USER_ACCOUNT_CREATED","initialState","isLoggingIn","isSigningUp","isLoading","isLoggingOut","isVerifying","loginError","signupError","logoutError","accountCreated","isAuthenticated","localStorage","getItem","sendPassResetSuccess","sendPassResetError","profileID","user","JSON","parse","state","action","type","console","log","obj","errMess","removeItem","verifyingError"],"mappings":"AAAA,SACEA,aADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,eAJF,EAKEC,eALF,EAMEC,eANF,EAOEC,cAPF,EAQEC,cARF,EASEC,cATF,EAUEC,cAVF,EAWEC,cAXF,EAYEC,uBAZF,EAaEC,eAbF,EAcEC,qBAdF,EAeEC,oBAfF,QAgBO,wBAhBP,C,CAiBA;;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,WAAW,EAAE,KADM;AAEnBC,EAAAA,WAAW,EAAE,KAFM;AAGnBC,EAAAA,SAAS,EAAE,KAHQ;AAInBC,EAAAA,YAAY,EAAE,KAJK;AAKnBC,EAAAA,WAAW,EAAE,KALM;AAMnBC,EAAAA,UAAU,EAAE,KANO;AAOnBC,EAAAA,WAAW,EAAE,KAPM;AAQnBC,EAAAA,WAAW,EAAE,KARM;AASnBC,EAAAA,cAAc,EAAE,KATG;AAUnBC,EAAAA,eAAe,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgC,IAAhC,GAAuC,KAVrC;AAWnBC,EAAAA,oBAAoB,EAAE,KAXH;AAYnBC,EAAAA,kBAAkB,EAAE,KAZD;AAanBC,EAAAA,SAAS,EAAEJ,YAAY,CAACC,OAAb,CAAqB,WAArB,CAbQ;AAcnBI,EAAAA,IAAI,EAAEC,IAAI,CAACC,KAAL,CAAWP,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,IACFK,IAAI,CAACC,KAAL,CAAWP,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CADE,GAEF;AAhBe,CAArB;AAmBA,eAAe,UAAUO,KAAK,GAAGnB,YAAlB,EAAgCoB,MAAhC,EAAwC;AACrD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKnC,aAAL;AACEoC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,aAAO,EACL,GAAGJ,KADE;AAELlB,QAAAA,WAAW,EAAE,IAFR;AAGLE,QAAAA,SAAS,EAAE,IAHN;AAILG,QAAAA,UAAU,EAAE;AAJP,OAAP;;AAMF,SAAKnB,aAAL;AACEmC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCH,MAAM,CAACI,GAA1C;AACA,aAAO,EACL,GAAGL,KADE;AAELlB,QAAAA,WAAW,EAAE,KAFR;AAGLE,QAAAA,SAAS,EAAE,KAHN;AAILO,QAAAA,eAAe,EAAE,IAJZ;AAKLM,QAAAA,IAAI,EAAEI,MAAM,CAACJ,IALR;AAMLD,QAAAA,SAAS,EAAEK,MAAM,CAACL;AANb,OAAP;;AAQF,SAAK9B,aAAL;AACEqC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,aAAO,EACL,GAAGJ,KADE;AAELlB,QAAAA,WAAW,EAAE,KAFR;AAGLS,QAAAA,eAAe,EAAE,KAHZ;AAILP,QAAAA,SAAS,EAAE,KAJN;AAKLG,QAAAA,UAAU,EAAE;AALP,OAAP;;AAQF,SAAKlB,eAAL;AACE,aAAO,EACL,GAAG+B,KADE;AAELjB,QAAAA,WAAW,EAAE,IAFR;AAGLC,QAAAA,SAAS,EAAE,IAHN;AAILI,QAAAA,WAAW,EAAE;AAJR,OAAP;;AAOF,SAAKlB,eAAL;AACE,aAAO,EACL,GAAG8B,KADE;AAELjB,QAAAA,WAAW,EAAE,KAFR;AAGLC,QAAAA,SAAS,EAAE,KAHN;AAILI,QAAAA,WAAW,EAAE,KAJR;AAKLE,QAAAA,cAAc,EAAE,IALX,CAML;AACA;;AAPK,OAAP;;AAUF,SAAKnB,eAAL;AACE,aAAO,EACL,GAAG6B,KADE;AAELjB,QAAAA,WAAW,EAAE,KAFR;AAGLC,QAAAA,SAAS,EAAE,KAHN;AAILI,QAAAA,WAAW,EAAEa,MAAM,CAACK;AAJf,OAAP;;AAOF,SAAK1B,oBAAL;AACE,aAAO,EACL,GAAGoB,KADE;AAELV,QAAAA,cAAc,EAAE;AAFX,OAAP;;AAKF,SAAKZ,eAAL;AACE,aAAO,EACL,GAAGsB,KADE;AAELhB,QAAAA,SAAS,EAAE,IAFN;AAGLU,QAAAA,oBAAoB,EAAE,KAHjB;AAILC,QAAAA,kBAAkB,EAAE;AAJf,OAAP;;AAOF,SAAKlB,uBAAL;AACE,aAAO,EACL,GAAGuB,KADE;AAELhB,QAAAA,SAAS,EAAE,KAFN;AAGLU,QAAAA,oBAAoB,EAAE,IAHjB;AAILC,QAAAA,kBAAkB,EAAE;AAJf,OAAP;;AAOF,SAAKhB,qBAAL;AACE,aAAO,EACL,GAAGqB,KADE;AAELhB,QAAAA,SAAS,EAAE,KAFN;AAGLU,QAAAA,oBAAoB,EAAE,KAHjB;AAILC,QAAAA,kBAAkB,EAAEM,MAAM,CAACK;AAJtB,OAAP;;AAOF,SAAKjC,cAAL;AACE,aAAO,EAAE,GAAG2B,KAAL;AAAYf,QAAAA,YAAY,EAAE,IAA1B;AAAgCI,QAAAA,WAAW,EAAE;AAA7C,OAAP;;AAEF,SAAKf,cAAL;AACEkB,MAAAA,YAAY,CAACe,UAAb,CAAwB,OAAxB;AACAf,MAAAA,YAAY,CAACe,UAAb,CAAwB,aAAxB;AACAf,MAAAA,YAAY,CAACe,UAAb,CAAwB,WAAxB;AACA,aAAO,EACL,GAAGP,KADE;AAELf,QAAAA,YAAY,EAAE,KAFT;AAGLM,QAAAA,eAAe,EAAE,KAHZ;AAILM,QAAAA,IAAI,EAAE;AAJD,OAAP;;AAOF,SAAKzB,cAAL;AACE,aAAO,EAAE,GAAG4B,KAAL;AAAYf,QAAAA,YAAY,EAAE,KAA1B;AAAiCI,QAAAA,WAAW,EAAE;AAA9C,OAAP;;AAEF,SAAKd,cAAL;AACE,aAAO,EAAE,GAAGyB,KAAL;AAAYd,QAAAA,WAAW,EAAE,IAAzB;AAA+BsB,QAAAA,cAAc,EAAE;AAA/C,OAAP;;AAEF,SAAKhC,cAAL;AACE,aAAO,EAAE,GAAGwB,KAAL;AAAYd,QAAAA,WAAW,EAAE;AAAzB,OAAP;;AACF;AACE,aAAOc,KAAP;AA7GJ;AA+GD","sourcesContent":["import {\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAILURE,\r\n  LOGOUT_FAILURE,\r\n  LOGOUT_REQUEST,\r\n  LOGOUT_SUCCESS,\r\n  VERIFY_REQUEST,\r\n  VERIFY_SUCCESS,\r\n  SEND_PASS_RESET_SUCCESS,\r\n  SEND_PASS_RESET,\r\n  SEND_PASS_RESET_ERROR,\r\n  USER_ACCOUNT_CREATED,\r\n} from \"../actions/authActions\";\r\n// import storageListner from \"../storageListener/localStorageListener\";\r\n\r\nconst initialState = {\r\n  isLoggingIn: false,\r\n  isSigningUp: false,\r\n  isLoading: false,\r\n  isLoggingOut: false,\r\n  isVerifying: false,\r\n  loginError: false,\r\n  signupError: false,\r\n  logoutError: false,\r\n  accountCreated: false,\r\n  isAuthenticated: localStorage.getItem(\"token\") ? true : false,\r\n  sendPassResetSuccess: false,\r\n  sendPassResetError: false,\r\n  profileID: localStorage.getItem(\"profileID\"),\r\n  user: JSON.parse(localStorage.getItem(\"userProfile\"))\r\n    ? JSON.parse(localStorage.getItem(\"userProfile\"))\r\n    : {},\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      console.log(\"login request fired\");\r\n      return {\r\n        ...state,\r\n        isLoggingIn: true,\r\n        isLoading: true,\r\n        loginError: false,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      console.log(\"login success fired\", action.obj);\r\n      return {\r\n        ...state,\r\n        isLoggingIn: false,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        user: action.user,\r\n        profileID: action.profileID,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      console.log(\"login failure fired\");\r\n      return {\r\n        ...state,\r\n        isLoggingIn: false,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        loginError: true,\r\n      };\r\n\r\n    case SIGN_UP_REQUEST:\r\n      return {\r\n        ...state,\r\n        isSigningUp: true,\r\n        isLoading: true,\r\n        signupError: false,\r\n      };\r\n\r\n    case SIGN_UP_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isSigningUp: false,\r\n        isLoading: false,\r\n        signupError: false,\r\n        accountCreated: true,\r\n        // isAuthenticated: true,\r\n        // user: action.user,\r\n      };\r\n\r\n    case SIGN_UP_FAILURE:\r\n      return {\r\n        ...state,\r\n        isSigningUp: false,\r\n        isLoading: false,\r\n        signupError: action.errMess,\r\n      };\r\n\r\n    case USER_ACCOUNT_CREATED:\r\n      return {\r\n        ...state,\r\n        accountCreated: false,\r\n      };\r\n\r\n    case SEND_PASS_RESET:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        sendPassResetSuccess: false,\r\n        sendPassResetError: false,\r\n      };\r\n\r\n    case SEND_PASS_RESET_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        sendPassResetSuccess: true,\r\n        sendPassResetError: false,\r\n      };\r\n\r\n    case SEND_PASS_RESET_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        sendPassResetSuccess: false,\r\n        sendPassResetError: action.errMess,\r\n      };\r\n\r\n    case LOGOUT_REQUEST:\r\n      return { ...state, isLoggingOut: true, logoutError: false };\r\n\r\n    case LOGOUT_SUCCESS:\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"userProfile\");\r\n      localStorage.removeItem(\"profileID\");\r\n      return {\r\n        ...state,\r\n        isLoggingOut: false,\r\n        isAuthenticated: false,\r\n        user: {},\r\n      };\r\n\r\n    case LOGOUT_FAILURE:\r\n      return { ...state, isLoggingOut: false, logoutError: true };\r\n\r\n    case VERIFY_REQUEST:\r\n      return { ...state, isVerifying: true, verifyingError: false };\r\n\r\n    case VERIFY_SUCCESS:\r\n      return { ...state, isVerifying: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}