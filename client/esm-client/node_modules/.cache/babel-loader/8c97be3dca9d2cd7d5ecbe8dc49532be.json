{"ast":null,"code":"import { LOGIN_FAILURE, LOGIN_REQUEST, LOGIN_SUCCESS, SIGN_UP_REQUEST, SIGN_UP_SUCCESS, SIGN_UP_FAILURE, LOGOUT_FAILURE, LOGOUT_REQUEST, LOGOUT_SUCCESS, VERIFY_REQUEST, VERIFY_SUCCESS, SEND_PASS_RESET_SUCCESS, SEND_PASS_RESET, SEND_PASS_RESET_ERROR, USER_ACCOUNT_CREATED } from \"../actions/authActions\";\n// import storageListner from \"../storageListener/localStorageListener\";\n\nconst initialState = {\n  isLoggingIn: false,\n  isSigningUp: false,\n  isLoading: false,\n  isLoggingOut: false,\n  isVerifying: false,\n  loginError: false,\n  signupError: false,\n  logoutError: false,\n  accountCreated: false,\n  isAuthenticated: localStorage.getItem(\"token\") ? true : false,\n  sendPassResetSuccess: false,\n  sendPassResetError: false,\n  profileID: localStorage.getItem(\"profileID\"),\n  user: JSON.parse(localStorage.getItem(\"userProfile\")) ? JSON.parse(localStorage.getItem(\"userProfile\")) : {}\n};\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      console.log(\"login request fired\");\n      return {\n        ...state,\n        isLoggingIn: true,\n        isLoading: true,\n        loginError: false\n      };\n    case LOGIN_SUCCESS:\n      console.log(\"login success fired\", action.obj);\n      return {\n        ...state,\n        isLoggingIn: false,\n        isLoading: false,\n        isAuthenticated: true,\n        user: action.user,\n        profileID: action.profileID\n      };\n    case LOGIN_FAILURE:\n      console.log(\"login failure fired\");\n      return {\n        ...state,\n        isLoggingIn: false,\n        isAuthenticated: false,\n        isLoading: false,\n        loginError: true\n      };\n    case SIGN_UP_REQUEST:\n      return {\n        ...state,\n        isSigningUp: true,\n        isLoading: true,\n        signupError: false\n      };\n    case SIGN_UP_SUCCESS:\n      return {\n        ...state,\n        isSigningUp: false,\n        isLoading: false,\n        signupError: false,\n        accountCreated: true\n        // isAuthenticated: true,\n        // user: action.user,\n      };\n\n    case SIGN_UP_FAILURE:\n      return {\n        ...state,\n        isSigningUp: false,\n        isLoading: false,\n        signupError: action.errMess\n      };\n    case USER_ACCOUNT_CREATED:\n      return {\n        ...state,\n        accountCreated: false\n      };\n    case SEND_PASS_RESET:\n      return {\n        ...state,\n        isLoading: true,\n        sendPassResetSuccess: false,\n        sendPassResetError: false\n      };\n    case SEND_PASS_RESET_SUCCESS:\n      return {\n        ...state,\n        isLoading: false,\n        sendPassResetSuccess: true,\n        sendPassResetError: false\n      };\n    case SEND_PASS_RESET_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        sendPassResetSuccess: false,\n        sendPassResetError: action.errMess\n      };\n    case LOGOUT_REQUEST:\n      return {\n        ...state,\n        isLoggingOut: true,\n        logoutError: false\n      };\n    case LOGOUT_SUCCESS:\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"userProfile\");\n      localStorage.removeItem(\"profileID\");\n      return {\n        ...state,\n        isLoggingOut: false,\n        isAuthenticated: false,\n        user: {}\n      };\n    case LOGOUT_FAILURE:\n      return {\n        ...state,\n        isLoggingOut: false,\n        logoutError: true\n      };\n    case VERIFY_REQUEST:\n      return {\n        ...state,\n        isVerifying: true,\n        verifyingError: false\n      };\n    case VERIFY_SUCCESS:\n      return {\n        ...state,\n        isVerifying: false\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["LOGIN_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","SIGN_UP_REQUEST","SIGN_UP_SUCCESS","SIGN_UP_FAILURE","LOGOUT_FAILURE","LOGOUT_REQUEST","LOGOUT_SUCCESS","VERIFY_REQUEST","VERIFY_SUCCESS","SEND_PASS_RESET_SUCCESS","SEND_PASS_RESET","SEND_PASS_RESET_ERROR","USER_ACCOUNT_CREATED","initialState","isLoggingIn","isSigningUp","isLoading","isLoggingOut","isVerifying","loginError","signupError","logoutError","accountCreated","isAuthenticated","localStorage","getItem","sendPassResetSuccess","sendPassResetError","profileID","user","JSON","parse","state","action","type","console","log","obj","errMess","removeItem","verifyingError"],"sources":["D:/Final year project/project_repo/EduSync/client/esm-client/src/reducers/authReducer.js"],"sourcesContent":["import {\r\n  LOGIN_FAILURE,\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  SIGN_UP_REQUEST,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAILURE,\r\n  LOGOUT_FAILURE,\r\n  LOGOUT_REQUEST,\r\n  LOGOUT_SUCCESS,\r\n  VERIFY_REQUEST,\r\n  VERIFY_SUCCESS,\r\n  SEND_PASS_RESET_SUCCESS,\r\n  SEND_PASS_RESET,\r\n  SEND_PASS_RESET_ERROR,\r\n  USER_ACCOUNT_CREATED,\r\n} from \"../actions/authActions\";\r\n// import storageListner from \"../storageListener/localStorageListener\";\r\n\r\nconst initialState = {\r\n  isLoggingIn: false,\r\n  isSigningUp: false,\r\n  isLoading: false,\r\n  isLoggingOut: false,\r\n  isVerifying: false,\r\n  loginError: false,\r\n  signupError: false,\r\n  logoutError: false,\r\n  accountCreated: false,\r\n  isAuthenticated: localStorage.getItem(\"token\") ? true : false,\r\n  sendPassResetSuccess: false,\r\n  sendPassResetError: false,\r\n  profileID: localStorage.getItem(\"profileID\"),\r\n  user: JSON.parse(localStorage.getItem(\"userProfile\"))\r\n    ? JSON.parse(localStorage.getItem(\"userProfile\"))\r\n    : {},\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      console.log(\"login request fired\");\r\n      return {\r\n        ...state,\r\n        isLoggingIn: true,\r\n        isLoading: true,\r\n        loginError: false,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      console.log(\"login success fired\", action.obj);\r\n      return {\r\n        ...state,\r\n        isLoggingIn: false,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        user: action.user,\r\n        profileID: action.profileID,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      console.log(\"login failure fired\");\r\n      return {\r\n        ...state,\r\n        isLoggingIn: false,\r\n        isAuthenticated: false,\r\n        isLoading: false,\r\n        loginError: true,\r\n      };\r\n\r\n    case SIGN_UP_REQUEST:\r\n      return {\r\n        ...state,\r\n        isSigningUp: true,\r\n        isLoading: true,\r\n        signupError: false,\r\n      };\r\n\r\n    case SIGN_UP_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isSigningUp: false,\r\n        isLoading: false,\r\n        signupError: false,\r\n        accountCreated: true,\r\n        // isAuthenticated: true,\r\n        // user: action.user,\r\n      };\r\n\r\n    case SIGN_UP_FAILURE:\r\n      return {\r\n        ...state,\r\n        isSigningUp: false,\r\n        isLoading: false,\r\n        signupError: action.errMess,\r\n      };\r\n\r\n    case USER_ACCOUNT_CREATED:\r\n      return {\r\n        ...state,\r\n        accountCreated: false,\r\n      };\r\n\r\n    case SEND_PASS_RESET:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        sendPassResetSuccess: false,\r\n        sendPassResetError: false,\r\n      };\r\n\r\n    case SEND_PASS_RESET_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        sendPassResetSuccess: true,\r\n        sendPassResetError: false,\r\n      };\r\n\r\n    case SEND_PASS_RESET_ERROR:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        sendPassResetSuccess: false,\r\n        sendPassResetError: action.errMess,\r\n      };\r\n\r\n    case LOGOUT_REQUEST:\r\n      return { ...state, isLoggingOut: true, logoutError: false };\r\n\r\n    case LOGOUT_SUCCESS:\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"userProfile\");\r\n      localStorage.removeItem(\"profileID\");\r\n      return {\r\n        ...state,\r\n        isLoggingOut: false,\r\n        isAuthenticated: false,\r\n        user: {},\r\n      };\r\n\r\n    case LOGOUT_FAILURE:\r\n      return { ...state, isLoggingOut: false, logoutError: true };\r\n\r\n    case VERIFY_REQUEST:\r\n      return { ...state, isVerifying: true, verifyingError: false };\r\n\r\n    case VERIFY_SUCCESS:\r\n      return { ...state, isVerifying: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}