{"ast":null,"code":"var _jsxFileName = \"D:\\\\Final year project\\\\project_repo\\\\EduSync\\\\client\\\\esm-client\\\\src\\\\navbar\\\\LeftMenu.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Menu, Grid } from \"antd\";\nimport { NavLink } from \"react-router-dom\";\nimport { logoutUser } from \"../actions/authActions\";\nimport { connect } from \"react-redux\";\nimport { Roles } from \"../Roles/roles\";\nimport { useLocation } from 'react-router-dom';\n// const SubMenu = Menu.SubMenu;\n// const MenuItemGroup = Menu.ItemGroup;\n\nconst {\n  useBreakpoint\n} = Grid;\nconst LeftMenu = props => {\n  const [isAuthenticated, setisAuthenticated] = useState(false);\n  const location = useLocation();\n\n  // const role = props.role;\n  const role = props.userInfo.role;\n  //console.log(props)\n\n  useEffect(() => {\n    setisAuthenticated(props.isAuthenticated);\n  }, [props]);\n  const signOut = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userProfile\");\n    localStorage.removeItem(\"profileID\");\n    props.signOut();\n  };\n  const handleProfile = () => {};\n  const {\n    md\n  } = useBreakpoint();\n  const homeRoute = isAuthenticated ? \"/\" : \"signin\";\n  const testRoute = isAuthenticated ? \"/attempt-test\" : \"signup\";\n  const resultRoute = isAuthenticated ? \"/result\" : \"\";\n  const signOutRoute = isAuthenticated ? \"/signin\" : \"\";\n  const profileRoute = isAuthenticated ? \"/profile\" : \"\";\n  const createTestRoute = isAuthenticated ? \"/create-test\" : \"\";\n  const assignedTestRoute = isAuthenticated ? \"/assigned-test\" : \"\";\n  //console.log(role)\n  const style = {\n    display: location.pathname === \"/start-test\" ? \"none\" : \"block\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu\",\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    mode: md ? \"horizontal\" : \"inline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: homeRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? \"Home\" : \"Sign In\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"02\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: Roles.teacher === role ? createTestRoute : testRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? Roles.teacher === role ? \"Create Test\" : \"Attempt Test\" : \"SignUp\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"03\",\n    className: !isAuthenticated ? \"display-none\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: Roles.teacher === role ? assignedTestRoute : resultRoute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? Roles.teacher === role ? \"Assigned Test\" : \"Result\" : \"\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"05\",\n    className: !isAuthenticated ? \"display-none\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: profileRoute,\n    onClick: handleProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, isAuthenticated ? \"Profile\" : \"\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-side\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: signOutRoute,\n    onClick: signOut,\n    className: !isAuthenticated ? \"display-none signout\" : \"signout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, isAuthenticated ? \"Sign Out\" : \"\")));\n};\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.isAuthenticated,\n    userInfo: state.auth.user\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    signOut: () => dispatch(logoutUser())\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftMenu);","map":{"version":3,"names":["React","useState","useEffect","Menu","Grid","NavLink","logoutUser","connect","Roles","useLocation","useBreakpoint","LeftMenu","props","isAuthenticated","setisAuthenticated","location","role","userInfo","signOut","localStorage","removeItem","handleProfile","md","homeRoute","testRoute","resultRoute","signOutRoute","profileRoute","createTestRoute","assignedTestRoute","style","display","pathname","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","mode","Item","key","to","teacher","onClick","mapStateToProps","state","auth","user","mapDispatchToProps","dispatch"],"sources":["D:/Final year project/project_repo/EduSync/client/esm-client/src/navbar/LeftMenu.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Menu, Grid } from \"antd\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { logoutUser } from \"../actions/authActions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Roles } from \"../Roles/roles\";\r\nimport { useLocation } from 'react-router-dom'\r\n// const SubMenu = Menu.SubMenu;\r\n// const MenuItemGroup = Menu.ItemGroup;\r\n\r\nconst { useBreakpoint } = Grid;\r\n\r\nconst LeftMenu = (props) => {\r\n  const [isAuthenticated, setisAuthenticated] = useState(false);\r\n  const location = useLocation();\r\n\r\n  \r\n  // const role = props.role;\r\n  const role = props.userInfo.role;\r\n  //console.log(props)\r\n\r\n  useEffect(() => {\r\n    setisAuthenticated(props.isAuthenticated);\r\n  }, [props]);\r\n\r\n  const signOut = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"userProfile\");\r\n    localStorage.removeItem(\"profileID\");\r\n    props.signOut();\r\n  };\r\n\r\n  const handleProfile = () => {};\r\n\r\n  const { md } = useBreakpoint();\r\n  const homeRoute = isAuthenticated ? \"/\" : \"signin\";\r\n  const testRoute = isAuthenticated ? \"/attempt-test\" : \"signup\";\r\n  const resultRoute = isAuthenticated ? \"/result\" : \"\";\r\n  const signOutRoute = isAuthenticated ? \"/signin\" : \"\";\r\n  const profileRoute = isAuthenticated ? \"/profile\" : \"\";\r\n  const createTestRoute = isAuthenticated ? \"/create-test\" : \"\";\r\n  const assignedTestRoute = isAuthenticated ? \"/assigned-test\" : \"\";\r\n  //console.log(role)\r\n  const style ={\r\n    display: (location.pathname===\"/start-test\")?(\"none\"):(\"block\")\r\n  }\r\n\r\n  return (\r\n    <div className=\"menu\" style={style}>\r\n      <Menu mode={md ? \"horizontal\" : \"inline\"}>\r\n        <Menu.Item key=\"01\">\r\n          <NavLink to={homeRoute}>\r\n            {isAuthenticated ? \"Home\" : \"Sign In\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"02\">\r\n          <NavLink to={Roles.teacher === role ? createTestRoute : testRoute}>\r\n            {isAuthenticated\r\n              ? Roles.teacher === role\r\n                ? \"Create Test\"\r\n                : \"Attempt Test\"\r\n              : \"SignUp\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"03\" className={!isAuthenticated ? \"display-none\" : \"\"}>\r\n          <NavLink\r\n            to={Roles.teacher === role ? assignedTestRoute : resultRoute}\r\n          >\r\n            {isAuthenticated\r\n              ? Roles.teacher === role\r\n                ? \"Assigned Test\"\r\n                : \"Result\"\r\n              : \"\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"05\" className={!isAuthenticated ? \"display-none\" : \"\"}>\r\n          <NavLink to={profileRoute} onClick={handleProfile}>\r\n            {isAuthenticated ? \"Profile\" : \"\"}\r\n          </NavLink>\r\n        </Menu.Item>\r\n      </Menu>\r\n      <div className=\"right-side\">\r\n        <NavLink\r\n          to={signOutRoute}\r\n          onClick={signOut}\r\n          className={!isAuthenticated ? \"display-none signout\" : \"signout\"}\r\n        >\r\n          {isAuthenticated ? \"Sign Out\" : \"\"}\r\n        </NavLink>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuthenticated: state.auth.isAuthenticated,\r\n    userInfo: state.auth.user,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signOut: () => dispatch(logoutUser()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LeftMenu);\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,IAAI,QAAQ,MAAM;AACjC,SAASC,OAAO,QAAQ,kBAAkB;AAC1C,SAASC,UAAU,QAAQ,wBAAwB;AACnD,SAASC,OAAO,QAAQ,aAAa;AACrC,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C;AACA;;AAEA,MAAM;EAAEC;AAAc,CAAC,GAAGN,IAAI;AAE9B,MAAMO,QAAQ,GAAIC,KAAK,IAAK;EAC1B,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAMc,QAAQ,GAAGN,WAAW,CAAC,CAAC;;EAG9B;EACA,MAAMO,IAAI,GAAGJ,KAAK,CAACK,QAAQ,CAACD,IAAI;EAChC;;EAEAd,SAAS,CAAC,MAAM;IACdY,kBAAkB,CAACF,KAAK,CAACC,eAAe,CAAC;EAC3C,CAAC,EAAE,CAACD,KAAK,CAAC,CAAC;EAEX,MAAMM,OAAO,GAAGA,CAAA,KAAM;IACpBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCD,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;IACtCD,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;IACpCR,KAAK,CAACM,OAAO,CAAC,CAAC;EACjB,CAAC;EAED,MAAMG,aAAa,GAAGA,CAAA,KAAM,CAAC,CAAC;EAE9B,MAAM;IAAEC;EAAG,CAAC,GAAGZ,aAAa,CAAC,CAAC;EAC9B,MAAMa,SAAS,GAAGV,eAAe,GAAG,GAAG,GAAG,QAAQ;EAClD,MAAMW,SAAS,GAAGX,eAAe,GAAG,eAAe,GAAG,QAAQ;EAC9D,MAAMY,WAAW,GAAGZ,eAAe,GAAG,SAAS,GAAG,EAAE;EACpD,MAAMa,YAAY,GAAGb,eAAe,GAAG,SAAS,GAAG,EAAE;EACrD,MAAMc,YAAY,GAAGd,eAAe,GAAG,UAAU,GAAG,EAAE;EACtD,MAAMe,eAAe,GAAGf,eAAe,GAAG,cAAc,GAAG,EAAE;EAC7D,MAAMgB,iBAAiB,GAAGhB,eAAe,GAAG,gBAAgB,GAAG,EAAE;EACjE;EACA,MAAMiB,KAAK,GAAE;IACXC,OAAO,EAAGhB,QAAQ,CAACiB,QAAQ,KAAG,aAAa,GAAG,MAAM,GAAG;EACzD,CAAC;EAED,oBACEhC,KAAA,CAAAiC,aAAA;IAAKC,SAAS,EAAC,MAAM;IAACJ,KAAK,EAAEA,KAAM;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjCxC,KAAA,CAAAiC,aAAA,CAAC9B,IAAI;IAACsC,IAAI,EAAEnB,EAAE,GAAG,YAAY,GAAG,QAAS;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvCxC,KAAA,CAAAiC,aAAA,CAAC9B,IAAI,CAACuC,IAAI;IAACC,GAAG,EAAC,IAAI;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjBxC,KAAA,CAAAiC,aAAA,CAAC5B,OAAO;IAACuC,EAAE,EAAErB,SAAU;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpB3B,eAAe,GAAG,MAAM,GAAG,SACrB,CACA,CAAC,eACZb,KAAA,CAAAiC,aAAA,CAAC9B,IAAI,CAACuC,IAAI;IAACC,GAAG,EAAC,IAAI;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjBxC,KAAA,CAAAiC,aAAA,CAAC5B,OAAO;IAACuC,EAAE,EAAEpC,KAAK,CAACqC,OAAO,KAAK7B,IAAI,GAAGY,eAAe,GAAGJ,SAAU;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC/D3B,eAAe,GACZL,KAAK,CAACqC,OAAO,KAAK7B,IAAI,GACpB,aAAa,GACb,cAAc,GAChB,QACG,CACA,CAAC,eACZhB,KAAA,CAAAiC,aAAA,CAAC9B,IAAI,CAACuC,IAAI;IAACC,GAAG,EAAC,IAAI;IAACT,SAAS,EAAE,CAACrB,eAAe,GAAG,cAAc,GAAG,EAAG;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpExC,KAAA,CAAAiC,aAAA,CAAC5B,OAAO;IACNuC,EAAE,EAAEpC,KAAK,CAACqC,OAAO,KAAK7B,IAAI,GAAGa,iBAAiB,GAAGJ,WAAY;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAE5D3B,eAAe,GACZL,KAAK,CAACqC,OAAO,KAAK7B,IAAI,GACpB,eAAe,GACf,QAAQ,GACV,EACG,CACA,CAAC,eACZhB,KAAA,CAAAiC,aAAA,CAAC9B,IAAI,CAACuC,IAAI;IAACC,GAAG,EAAC,IAAI;IAACT,SAAS,EAAE,CAACrB,eAAe,GAAG,cAAc,GAAG,EAAG;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpExC,KAAA,CAAAiC,aAAA,CAAC5B,OAAO;IAACuC,EAAE,EAAEjB,YAAa;IAACmB,OAAO,EAAEzB,aAAc;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC/C3B,eAAe,GAAG,SAAS,GAAG,EACxB,CACA,CACP,CAAC,eACPb,KAAA,CAAAiC,aAAA;IAAKC,SAAS,EAAC,YAAY;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzBxC,KAAA,CAAAiC,aAAA,CAAC5B,OAAO;IACNuC,EAAE,EAAElB,YAAa;IACjBoB,OAAO,EAAE5B,OAAQ;IACjBgB,SAAS,EAAE,CAACrB,eAAe,GAAG,sBAAsB,GAAG,SAAU;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEhE3B,eAAe,GAAG,UAAU,GAAG,EACzB,CACN,CACF,CAAC;AAEV,CAAC;AAED,MAAMkC,eAAe,GAAIC,KAAK,IAAK;EACjC,OAAO;IACLnC,eAAe,EAAEmC,KAAK,CAACC,IAAI,CAACpC,eAAe;IAC3CI,QAAQ,EAAE+B,KAAK,CAACC,IAAI,CAACC;EACvB,CAAC;AACH,CAAC;AACD,MAAMC,kBAAkB,GAAIC,QAAQ,IAAK;EACvC,OAAO;IACLlC,OAAO,EAAEA,CAAA,KAAMkC,QAAQ,CAAC9C,UAAU,CAAC,CAAC;EACtC,CAAC;AACH,CAAC;AAED,eAAeC,OAAO,CAACwC,eAAe,EAAEI,kBAAkB,CAAC,CAACxC,QAAQ,CAAC"},"metadata":{},"sourceType":"module"}